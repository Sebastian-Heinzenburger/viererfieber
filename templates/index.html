<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/welcome.css">
    <title>Vierer-Fieber</title>
  </head>
  <body>
    <script>
      function createGame() {
        document.location.href = "/lobby";
      }

      function joinGame() {
        document.querySelector("#joinGame").setAttribute("open", "open");
      }

      function focusInput(next) {
        document.querySelector(next).focus();
      }

      function closeDialog() {
        document.querySelector("#joinGame").close()
      }

      function submitDialog(params) {
        const dialogForm = document.querySelector('#lobbyForm');
        if (dialogForm.checkValidity())
          dialogForm.submit()
      }
    </script>

    <div id="main_title">Vierer-Fieber</div>
    <section id="button_section">
      <input type="button" class="start_buttons" onclick="createGame()" id="create_game" value="Spiel erstellen">
      <input type="button" class="start_buttons" onclick="joinGame()" id="join_game" value="Spiel beitreten">
    </section>

    <dialog id="joinGame">
      <p>Join a Lobby</p>
      <form method="post" action="lobby.html" id="lobbyForm">
        <input
          type="number"
          name="num0"
          id="num0"
          autocomplete="off"
          oninput="focusInput('#num1')"
          autofocus
        />
        <input
          type="number"
          name="num1"
          id="num1"
          autocomplete="off"
          oninput="focusInput('#num2')"
        />
        <input
          type="number"
          name="num2"
          id="num2"
          autocomplete="off"
          oninput="focusInput('#num3')"
        />
        <input
          type="number"
          name="num3"
          id="num3"
          autocomplete="off"
          oninput="submitDialog()"
        />
        <button type="button" onclick="closeDialog()">close</button>
        <input type="submit" />
      </form>
    </dialog>

    <a id="impressum" href="/templates/impressum.html">Impressum</a>

  </body>
</html>
